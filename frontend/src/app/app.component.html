<p-menubar class="mr-2">
  <ng-template pTemplate="start">
    <span height="40" class="mr-2" style="font-size: 25px;font-weight: 600;margin-top: 20px;">CRUD</span>
  </ng-template>

</p-menubar>
<p-toast></p-toast>
<div class="container">
  <p-card class="m-1">
    <p-toolbar styleClass="">
      <ng-template pTemplate="left">
        <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success mr-2"
          (click)="openNew()"></button>
      </ng-template>

    </p-toolbar><br>
    <p-table [value]="users" #dt [rows]="10" [paginator]="true" [tableStyle]="{ 'min-width': '50rem' }"
      [globalFilterFields]="['name']" [tableStyle]="{ 'min-width': '50rem' }" [rowHover]="true" dataKey="id"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">

      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Gender</th>
          <th>Age</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-users>
        <tr>
          <td>{{ users.name }}</td>
          <td>{{ users.gender }}</td>
          <td>{{ users.age }}</td>
          <td>{{ users.email }}</td>
          <td>
            <button pButton pRipple class="p-button-rounded p-button-success p-button-sm "
              style="padding: 8px;margin: 0;margin-right: 4px;" (click)="edituser(users)"><i class="pi pi-pencil"
                style="font-size: 1rem"></i></button>
            <button pButton pRipple class="p-button-rounded p-button-warning" style="padding: 8px;margin-right: 4px;"
              (click)="deleteuser(users)"><i class="pi pi-trash" style="font-size: 1rem"></i></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>


<!-- add new prodact dialog -->
<p-dialog [(visible)]="userDialog" [style]="{ width: '450px' }" header="User Details" [modal]="true"
  styleClass="p-fluid">
  <ng-template pTemplate="content">
    <div class="field">
      <label for="name">Name</label>
      <input type="text" pInputText id="name" [(ngModel)]="user.name" required autofocus />
      <small class="p-error" *ngIf="submitted && !user.name">Name is required.</small>
    </div>
    <div class="field">
      <label for="name">gender</label>
      <input type="text" pInputText id="name" [(ngModel)]="user.gender" required autofocus />
      <small class="p-error" *ngIf="submitted && !user.gender">Gender is required.</small>
    </div>
    <div class="field">
      <label for="name">Age</label>
      <input type="number" pInputText id="name" [(ngModel)]="user.age" required autofocus />
      <small class="p-error" *ngIf="submitted && !user.age">Age is required.</small>
    </div>
    <div class="field">
      <label for="name">Email</label>
      <input type="text" pInputText id="name" [(ngModel)]="user.email" required autofocus />
      <small class="p-error" *ngIf="submitted && !user.email">Email is required.</small>
    </div>

  </ng-template>

  <ng-template pTemplate="footer">
    <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
    <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveUser()"></button>
  </ng-template>
</p-dialog>
<!-- end new user -->



<p-confirmDialog [style]="{ width: '450px' }"></p-confirmDialog>